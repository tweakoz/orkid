cmake_minimum_required (VERSION 3.13.4)
set( CMAKE_MODULE_PATH $ENV{ORKID_WORKSPACE_DIR} )
include(orkid)
project (ork.lev2.test.aud.singularity CXX)

include_directories(AFTER ${CMAKE_INSTALL_PREFIX}/include)
include_directories(AFTER ${ORKROOT}/ork.core/inc )
include_directories(AFTER ${ORKROOT}/ork.lev2/inc )
include_directories(AFTER ${SRCD} )
include_directories(AFTER $ENV{QTDIR}/include)

function(setupEXE target sources)
  add_executable (${target} harness.cpp harness_midi.cpp harness_sequence.cpp ${sources} )
  ork_std_target_opts(${target})
  target_link_libraries(${target} LINK_PRIVATE ork_core ork_lev2 rtmidi )
  set_target_properties(${target} PROPERTIES LINKER_LANGUAGE CXX)
  install(TARGETS ${target} DESTINATION $ENV{OBT_STAGE}/bin )
endfunction()

setupEXE(ork.test.lev2.aud.singularity.krzrom.exe main_krzrom.cpp )
setupEXE(ork.test.lev2.aud.singularity.cz1.bank.exe main_cz1_bank.cpp )
setupEXE(ork.test.lev2.aud.singularity.cz1.dco.exe main_cz1_dco.cpp)
setupEXE(ork.test.lev2.aud.singularity.cz1.dco.noisemod.exe main_cz1_dco_noisemod.cpp)
setupEXE(ork.test.lev2.aud.singularity.cz1.dco.playedit.exe main_cz1_playedit.cpp)
setupEXE(ork.test.lev2.aud.singularity.cz1.envelope.exe main_cz1_envelope.cpp)
setupEXE(ork.test.lev2.aud.singularity.cz1.bankprog.exe main_cz1_bankprog.cpp)
setupEXE(ork.test.lev2.aud.singularity.hybrid.exe main_hybrid.cpp)
setupEXE(ork.test.lev2.aud.singularity.cz1.benchmark.exe main_cz1_benchmark.cpp)
setupEXE(ork.test.lev2.aud.singularity.tx81z.op.exe main_tx81z_op.cpp)
setupEXE(ork.test.lev2.aud.singularity.tx81z.bank.exe main_tx81z_bank.cpp)
setupEXE(ork.test.lev2.aud.singularity.tx81z.bankprog.exe main_tx81z_bankprog.cpp)
setupEXE(ork.test.lev2.aud.singularity.serdestest-out.exe main_serdestest_out.cpp)
setupEXE(ork.test.lev2.aud.singularity.serdestest-inp.exe main_serdestest_inp.cpp)
